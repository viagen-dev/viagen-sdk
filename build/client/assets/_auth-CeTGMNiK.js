import{w as g,c as h,a as p,j as e,L as n,O as b}from"./chunk-JZWAC4HX-IldEFHxZ.js";import{c as a}from"./utils-C8nBGPD0.js";const N=g(function({loaderData:i}){const{user:s,currentOrg:c,organizations:d,integrations:r}=i,o=h(),l=p(),x=t=>{document.cookie=`viagen-org=${t}; path=/; max-age=${3600*24*365}; samesite=lax`,window.location.reload()},m=async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),l("/login")},u=!r.github||!r.vercel;return e.jsxs("div",{className:"flex min-h-svh flex-col",children:[e.jsx("header",{className:"border-b border-border bg-background",children:e.jsxs("div",{className:"mx-auto flex h-[60px] max-w-[1200px] items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{to:"/",className:"text-lg font-semibold text-foreground no-underline",children:"viagen"}),e.jsx("span",{className:"text-lg font-light text-border",children:"/"}),d.length>1?e.jsx("select",{value:c.id,onChange:t=>x(t.target.value),className:"cursor-pointer rounded-md border border-border bg-transparent px-2 py-1 text-sm font-medium text-foreground",children:d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}):e.jsx("span",{className:"text-sm font-medium text-foreground",children:c.name}),e.jsxs("nav",{className:"ml-4 flex gap-1",children:[e.jsx(n,{to:"/",className:a("rounded-md px-3 py-2 text-sm no-underline transition-colors",o.pathname==="/"?"bg-accent text-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:"Dashboard"}),e.jsx(n,{to:"/projects",className:a("rounded-md px-3 py-2 text-sm no-underline transition-colors",o.pathname.startsWith("/projects")?"bg-accent text-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:"Projects"}),e.jsx(n,{to:"/settings",className:a("rounded-md px-3 py-2 text-sm no-underline transition-colors",o.pathname.startsWith("/settings")?"bg-accent text-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:"Settings"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.avatarUrl&&e.jsx("img",{src:s.avatarUrl,alt:"",className:"h-8 w-8 rounded-full"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm font-medium leading-tight",children:s.name}),e.jsx("p",{className:"text-xs leading-tight text-muted-foreground",children:s.email})]})]}),e.jsx("button",{onClick:m,className:"cursor-pointer rounded-md border border-border bg-transparent px-4 py-2 text-xs text-muted-foreground transition-colors hover:border-foreground/20 hover:text-foreground",children:"Sign out"})]})]})}),u&&e.jsxs("div",{className:"flex items-center justify-center gap-3 border-b border-yellow-400 bg-amber-50 px-4 py-2.5 text-[0.8125rem] text-amber-800 dark:bg-amber-950/30 dark:text-amber-200",children:[e.jsx("span",{children:!r.github&&!r.vercel?"Connect your GitHub and Vercel accounts to save sandbox changes.":r.github?"Connect your Vercel account to deploy projects.":"Connect your GitHub account to save sandbox changes."}),e.jsx(n,{to:"/settings",className:"text-[0.8125rem] font-semibold text-amber-800 underline dark:text-amber-200",children:"Go to Settings"})]}),e.jsx("main",{className:"mx-auto w-full max-w-[1200px] flex-1 px-6 py-8",children:e.jsx(b,{})})]})});export{N as default};
